<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>For Jaan — 8 Months ❤️</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    :root { --accent: #ff4d88; --soft: #fff5f8; }
    html,body{height:100%;}
    body{
      font-family: 'Montserrat', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: linear-gradient(180deg, #fff8fb 0%, #ffeef7 100%);
      color:#222;
      display:flex;align-items:center;justify-content:center;padding:1.25rem;
    }
    .card-custom{
      max-width:420px;width:100%;border-radius:18px;padding:1.25rem;background:linear-gradient(180deg, #ffffffcc, #fff0f5cc);box-shadow:0 8px 30px rgba(0,0,0,0.08);
    }
    .hero{
      display:flex;gap:1rem;align-items:center;justify-content:space-between;flex-wrap:wrap;
    }
    .avatar{
      width:84px;height:84px;border-radius:50%;background:linear-gradient(135deg,var(--accent),#ff9ab3);display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:28px;box-shadow:0 6px 18px rgba(255,77,136,0.18);
    }
    h1{font-size:1.25rem;margin:0}
    .sub{opacity:0.9;font-size:0.92rem}

    .flex-msg{display:flex;flex-direction:column;gap:.6rem;padding:1rem;border-radius:12px;background:linear-gradient(90deg, #fff, #fffaf2);}

    .big-counter{font-size:1.6rem;font-weight:700;color:var(--accent)}
    .small-note{font-size:.85rem;color:#555}

    .hearts{position:relative;height:120px;margin-top:0.5rem}
    .heart{
      position:absolute;left:50%;top:30%;transform:translate(-50%,-50%);width:22px;height:22px;background:var(--accent);clip-path:polygon(50% 0%, 100% 35%, 82% 100%, 50% 80%, 18% 100%, 0% 35%);
      opacity:.9;animation:float 3s infinite ease-in-out;
    }
    .heart:nth-child(2){left:30%;animation-delay:.2s;width:16px;height:16px}
    .heart:nth-child(3){left:70%;animation-delay:.6s;width:12px;height:12px}
    @keyframes float{0%{transform:translate(-50%,0) scale(1)}50%{transform:translate(-50%,-18px) scale(1.08)}100%{transform:translate(-50%,0) scale(1)}}

    .btn-pink{background:var(--accent);color:#fff;border:none}
    .badge-best{background:#fff0f6;color:var(--accent);border-radius:999px;padding:.35rem .6rem;font-weight:600}

    footer{margin-top:.9rem;text-align:center;color:#666;font-size:.82rem}

    /* responsive tiny tweaks */
    @media (max-width:420px){.card-custom{padding:1rem;border-radius:14px}}
  </style>
</head>
<body>
  <div class="card-custom">
    <div class="hero">
      <div style="flex:1;min-width:0">
        <h1>For <span style="color:var(--accent)">Jaan</span> ❤️</h1>
        <div class="sub">8 beautiful months — started on <strong>14 March 2025</strong></div>
      </div>
      <div class="avatar">J</div>
    </div>

    <div class="flex-msg mt-3">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:0.6rem;flex-wrap:wrap">
        <div>
          <div class="small-note">How long we've been together</div>
          <div class="big-counter" id="monthsText">-- months</div>
        </div>
        <div style="text-align:right">
          <div class="small-note">Best day</div>
          <div class="badge-best">First meet — <strong>9 Oct</strong></div>
        </div>
      </div>

      <div class="hearts" aria-hidden>
        <div class="heart" style="top:18%;left:45%"></div>
        <div class="heart" style="top:52%;left:25%"></div>
        <div class="heart" style="top:65%;left:72%"></div>
      </div>

      <div>
        <p style="margin:0 0 .4rem 0;line-height:1.3rem">Jaan, I just want to tell you — I love you more than words can show. I'm with you in every moment, in every challenge, and every little victory. You are going to rock at your work, and I believe in you always.</p>
        <p style="margin:0;color:#555;font-size:.92rem">That first day we met (<strong>9 October</strong>) is my favourite — the best day. Thank you for being mine.</p>
      </div>

      <div style="display:flex;gap:.5rem;margin-top:.6rem;flex-wrap:wrap">
        <button class="btn btn-pink btn-sm" id="speakBtn">Play message</button>
        <!-- <a class="btn btn-outline-secondary btn-sm" id="shareBtn" href="#">Share (link)</a> -->
        <button class="btn btn-light btn-sm" id="surpriseBtn">Surprise ✨</button>
      </div>

    </div>

    <footer>
      <div id="agoText">Counting days since 14 Mar 2025</div>
    </footer>
  </div>

  <script>
    // ---------- Config ------------
    const startDate = new Date('2025-03-14T00:00:00'); // relationship start
    const firstMeet = new Date('2025-10-09T00:00:00');   // first meet

    function diffMonthsDays(a,b){
      // returns months and days between a and b (a < b)
      let years = b.getFullYear() - a.getFullYear();
      let months = b.getMonth() - a.getMonth();
      let days = b.getDate() - a.getDate();
      if(days < 0){
        months -= 1;
        // borrow days from previous month
        const prevMonth = new Date(b.getFullYear(), b.getMonth(), 0).getDate();
        days += prevMonth;
      }
      months += years * 12;
      return { months, days };
    }

    function updateCounters(){
      const now = new Date();
      const d = diffMonthsDays(startDate, now);
      const monthsText = document.getElementById('monthsText');
      monthsText.textContent = d.months + ' months ' + d.days + ' days';

      const agoText = document.getElementById('agoText');
      agoText.textContent = `Together since ${startDate.toLocaleDateString()} — that's ${d.months} months and ${d.days} days.`;

      // show special label when today is anniversary or first meet
      const todayKey = now.toISOString().slice(0,10);
      const meetKey = firstMeet.toISOString().slice(0,10);
      if(todayKey === meetKey){
        document.querySelector('.badge-best').textContent = 'Today — Best day';
      }
    }
    updateCounters();
    setInterval(updateCounters, 1000*60);

    // ----------- Speech (Play message) ----------
    const speakBtn = document.getElementById('speakBtn');
    speakBtn.addEventListener('click', ()=>{
      const msg = `Hi Jaan. I love you. We've been together since 14 March 2025 and every day with you is special. I will always be with you.`;
      if('speechSynthesis' in window){
        const ut = new SpeechSynthesisUtterance(msg);
        ut.lang = 'en-US';
        ut.rate = 0.95;
        window.speechSynthesis.cancel();
        window.speechSynthesis.speak(ut);
      } else {
        alert('Your phone/browser does not support speech playback.');
      }
    });

    // ----------- Share (simple) ----------
    const shareBtn = document.getElementById('shareBtn');
    shareBtn.addEventListener('click', (e)=>{
      e.preventDefault();
      const text = `For Jaan — I love you. Celebrating our journey since 14 March 2025 (first meet: 9 Oct).`;
      if(navigator.share){
        navigator.share({title:'For Jaan', text}).catch(()=>{});
      } else {
        // fallback: copy to clipboard
        navigator.clipboard.writeText(text).then(()=>{
          alert('Message copied to clipboard — paste and share!');
        }, ()=>{ alert('Share not available.'); });
      }
    });

    // -------- Surprise button - little confetti effect --------
    const surpriseBtn = document.getElementById('surpriseBtn');
    surpriseBtn.addEventListener('click', ()=>{
      fireConfetti();
    });

    // simple canvas confetti implementation
    function fireConfetti(){
      const c = document.createElement('canvas');
      c.style.position='fixed';c.style.left=0;c.style.top=0; c.style.width='100%'; c.style.height='100%'; c.style.zIndex=9999;
      document.body.appendChild(c);
      c.width = window.innerWidth; c.height = window.innerHeight;
      const ctx = c.getContext('2d');
      const pieces = [];
      for(let i=0;i<120;i++){
        pieces.push({x:Math.random()*c.width,y:Math.random()*-c.height,vy:1+Math.random()*4,sz:4+Math.random()*8,rot:Math.random()*360,vr:Math.random()*6,clr: ['#ff4d88','#ff9ab3','#ffd1e6','#fff1f6'][Math.floor(Math.random()*4)]});
      }
      let frames=0;
      const id = setInterval(()=>{
        frames++; ctx.clearRect(0,0,c.width,c.height);
        for(const p of pieces){
          p.y += p.vy; p.x += Math.sin(frames/10 + p.rot/20);
          ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rot*Math.PI/180);
          ctx.fillStyle=p.clr; ctx.fillRect(-p.sz/2,-p.sz/2,p.sz,p.sz);
          ctx.restore();
        }
        if(frames>160){ clearInterval(id); c.remove(); }
      },1000/60);
    }

    // accessibility: pause speech if navigating away
    window.addEventListener('pagehide', ()=>{ if(window.speechSynthesis) window.speechSynthesis.cancel(); });
  </script>
</body>
</html>
